-- DROP IN CORRECT ORDER (because of foreign keys)
DROP TABLE IF EXISTS notifications;
DROP TABLE IF EXISTS comments;
DROP TABLE IF EXISTS events;
DROP TABLE IF EXISTS person;
DROP TABLE IF EXISTS clubs;

-- ====== CREATE TABLES ======
CREATE TABLE `clubs` (
    `clubName` varchar(255) NOT NULL COMMENT 'Unique name of the club',
    `description` text NOT NULL COMMENT 'Description of the club activities and schedules, can contain HTML formatting',
    `memberCount` int NOT NULL COMMENT 'Current number of members in the club',
    `memberMax` int NOT NULL COMMENT 'Maximum allowed members in the club',
    PRIMARY KEY (`clubName`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;

CREATE TABLE `person` (
    `username` varchar(255) NOT NULL COMMENT 'Unique username for each person',
    `password` varchar(255) NOT NULL COMMENT 'Password hash for the user account (bcrypt)',
    `role` text NOT NULL COMMENT 'Role of the person in the club (CL, VP, CM, STU)',
    `club` varchar(255) DEFAULT NULL COMMENT 'The club the person is associated with; NULL if not a member of any club; STU + club means pending membership',
    `sessionId` varchar(255) DEFAULT NULL COMMENT 'Session identifier for logged-in users; NULL if not logged in',
    PRIMARY KEY (`username`),
    UNIQUE KEY `sessionId` (`sessionId`),
    KEY `club` (`club`),
    CONSTRAINT `person_ibfk_1` FOREIGN KEY (`club`) REFERENCES `clubs` (`clubName`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;

CREATE TABLE `events` (
    `eventid` int NOT NULL AUTO_INCREMENT COMMENT 'Unique identifier for each event',
    `title` text NOT NULL COMMENT 'The title of the event',
    `description` text COMMENT 'A detailed description of the event',
    `startDate` datetime DEFAULT NULL COMMENT 'The start date of the event',
    `endDate` datetime DEFAULT NULL COMMENT 'The end date of the event',
    `accepted` tinyint(1) DEFAULT '0' COMMENT 'Boolean value indicating whether the event is accepted (1) or pending (0)',
    `clubName` varchar(255) NOT NULL COMMENT 'The club organizing the event',
    PRIMARY KEY (`eventid`),
    KEY `clubName` (`clubName`),
    CONSTRAINT `events_ibfk_1` FOREIGN KEY (`clubName`) REFERENCES `clubs` (`clubName`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB AUTO_INCREMENT = 22 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;

CREATE TABLE `comments` (
    `commentid` int NOT NULL AUTO_INCREMENT COMMENT 'Unique identifier for each comment',
    `date` datetime DEFAULT NULL COMMENT 'Timestamp of when the comment was made',
    `comment` text NOT NULL COMMENT 'The content of the comment',
    `rating` int NOT NULL DEFAULT '0' COMMENT 'Rating associated with the comment, from 1 to 5; 0 if no rating is given',
    `username` varchar(255) NOT NULL COMMENT 'The username of the person who made the comment',
    `clubName` varchar(255) NOT NULL COMMENT 'The club the comment is associated with',
    PRIMARY KEY (`commentid`),
    KEY `username` (`username`),
    KEY `clubName` (`clubName`),
    CONSTRAINT `comments_ibfk_3` FOREIGN KEY (`username`) REFERENCES `person` (`username`) ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT `comments_ibfk_4` FOREIGN KEY (`clubName`) REFERENCES `clubs` (`clubName`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB AUTO_INCREMENT = 12 DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;

CREATE TABLE `notifications` (
    `notificationid` int NOT NULL AUTO_INCREMENT COMMENT 'Unique identifier for each notification',
    `username` varchar(255) NOT NULL COMMENT 'Recipient username',
    `clubName` varchar(255) DEFAULT NULL COMMENT 'Associated club if any',
    `type` varchar(50) NOT NULL DEFAULT 'info' COMMENT 'Category of notification',
    `message` text NOT NULL COMMENT 'Notification body',
    `link` text DEFAULT NULL COMMENT 'Optional link for the client to open',
    `isRead` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Whether the notification was read',
    `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Creation timestamp',
    PRIMARY KEY (`notificationid`),
    KEY `username` (`username`),
    KEY `clubName` (`clubName`),
    CONSTRAINT `notifications_ibfk_1` FOREIGN KEY (`username`) REFERENCES `person` (`username`) ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT `notifications_ibfk_2` FOREIGN KEY (`clubName`) REFERENCES `clubs` (`clubName`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci;

-- ===== CLUBS =====
INSERT INTO clubs (`clubName`, `description`, `memberCount`, `memberMax`) VALUES
('Ski', '<p>The Ski Club meets every winter. Equipment rentals available.<br><b>Weekly schedule:</b><ul><li>Mon: dryland training 18:00-19:30</li><li>Fri: slope trips (depart 06:00)</li></ul><p style="color:blue">Après-ski socials every Saturday night.</p>', 18, 40),
('Basketball', '<p>Open hoops and competitive teams. Practices: Tue/Thu 20:00-22:00 at Gym A.<br><small>Junior sessions on Sat 10:00-12:00</small></p>', 22, 50),
('Robotics', '<p>We build robots and compete in regional challenges. Workshop: Wed 19:00-22:00 (Lab 3)</p>', 15, 40),
('Book', '<p>Monthly book selections and two discussion groups. Next meeting: last Tuesday of month, 19:30.</p>', 12, 30),
('Photography', '<p>Photo walks, editing workshops, and exhibitions. Gear share available on demand.</p>', 10, 25),
('Cooking', '<p>Hands-on cooking sessions and themed dinners. Allergy-friendly options available. <br/>Every 2nd Sunday: community dinner.</p>', 14, 30),
('Music', '<p>Chamber groups and open jam nights. Rehearsals Wed 18:00-20:30.</p>', 16, 40),
('Chess', '<p>Casual play and weekly rated matches. Coaching for beginners.</p>', 9, 20),
('Hiking', '<p>Day hikes and overnight treks. Safety briefing mandatory for multi-day trips.</p>', 13, 35),
('Gaming', '<p>Board games, tabletop RPGs and esports viewing parties. Newcomers welcome.</p>', 20, 60),
('Debate', '<p>British parliamentary and public speaking practice. Weekly scrimmages on Thu 18:30.</p>', 11, 30),
('Drama', '<p>Scene studies, improv, and semester productions. Rehearsals Mon/Wed 19:00.</p>', 14, 35),
('Environmental', '<p>Campus sustainability projects, cleanups, and green tech talks.</p>', 10, 40),
('Coding', '<p>Weekly coding dojos, hack nights, and interview prep. All levels welcome.</p>', 18, 50),
('Dance', '<p>Contemporary, hip-hop, and salsa sessions. Open classes Tue/Fri evenings.</p>', 15, 40);

-- ===== PERSONS =====
INSERT INTO person (`username`, `password`, `role`, `club`, `sessionId`) VALUES
('Francesco','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Ski',NULL),
('Samuele','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Ski',NULL),
('Ari','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Ski','sess_ari_01'),
('Luca','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Ski','sess_luca_9'),
('Marta','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Ski',NULL),
('Giorgie','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Basketball',NULL),
('Ayoub','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Basketball','sess_ayoub_x'),
('Hana','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Basketball',NULL),
('Marco_b','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Basketball',NULL),
('Sophia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Noah','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Robotics','sess_noah'),
('Isabella','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Robotics',NULL),
('Kai','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Robotics',NULL),
('Emma','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Robotics',NULL),
('Oliver','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Clara','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Book',NULL),
('David','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Book','sess_david_7'),
('Sara','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Book',NULL),
('Paul','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Nina','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Book',NULL),
('Mike','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Photography','sess_mike_p'),
('Elena','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Photography',NULL),
('Tomas','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Photography',NULL),
('Zoe','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Photography',NULL),
('Ivan','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Sofia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Cooking',NULL),
('Raoul','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Cooking',NULL),
('Lena','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Cooking',NULL),
('Ben','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Yasmin','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Cooking',NULL),
('Olga','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Music','sess_olga'),
('Christian','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Music',NULL),
('Karen','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Music',NULL),
('Matt','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Music',NULL),
('Daria','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Arthur','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Chess',NULL),
('Bea','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Chess',NULL),
('Zach','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Chess',NULL),
('Oliver_q','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Paula','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Chess',NULL),
('Sylvia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Hiking','sess_sylvia'),
('Jorge','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Hiking',NULL),
('Mina','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Hiking',NULL),
('Kevin','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Hiking',NULL),
('Robin','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Alex','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Gaming',NULL),
('Bella','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Gaming','sess_bella'),
('Chris','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Gaming',NULL),
('Nora','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Gaming',NULL),
('Quentin','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Mussolini','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Giorgia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Sandra','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Leo','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU',NULL,NULL),
('Martin','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM',NULL,NULL),
('Fernanda','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Ski',NULL),
('Igor','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Ski',NULL),
('Yvonne','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Basketball',NULL),
('Harry','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Basketball',NULL),
('Eva','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Hiking',NULL),
('Nicolas','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Debate',NULL),
('Priya','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Debate',NULL),
('Hector','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Debate',NULL),
('Julia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Debate',NULL),
('Amelia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Drama',NULL),
('Simon','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Drama',NULL),
('Carla','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Drama',NULL),
('Talia','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Drama',NULL),
('Greta','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Environmental',NULL),
('Kenji','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Environmental',NULL),
('Mo','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Environmental',NULL),
('Ivy','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Environmental',NULL),
('Ethan','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Coding',NULL),
('Rina','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Coding',NULL),
('Toby','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Coding',NULL),
('Wei','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Coding',NULL),
('Layla','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CL','Dance',NULL),
('Diego','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','VP','Dance',NULL),
('Helena','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','CM','Dance',NULL),
('Milan','$2a$10$SfoBY49Y..SbmuMc0J8YIe1TTnaMRly/b/OpyFh8VAAhvoai8y.qK','STU','Dance',NULL);

-- ==== EVENTS =====
INSERT INTO events (`startDate`, `endDate`, `title`, `description`, `accepted`, `clubName`) VALUES
('2025-01-10 06:00:00','2025-01-10 20:00:00','First Slope Trip 2025','Full-day slope trip to Alpine Valley. Buses depart 06:00; bring warm clothes.',1,'Ski'),
('2025-12-20 18:30:00','2025-12-20 23:59:00','Après-Ski Night','Hot chocolate, live acoustic set and games at lodge after the slopes. Open to families.',0,'Ski'),
('2024-02-15 08:00:00',NULL,'Weekend Training Camp','Two-day training camp focusing on technique and safety. Accommodation not included.',1,'Ski'),
('2025-02-28 07:00:00','2025-03-02 18:00:00','Spring Backcountry Trip','Guided backcountry tour - avalanche gear required. Limited spots.',1,'Ski'),
('2025-03-05 20:00:00','2025-03-05 22:00:00','Apere-ski Social','Informal meetup: drinks and stories after the slope. Bring your best ski jokes.',1,'Ski'),
('2025-11-01 20:00:00','2025-11-01 22:00:00','Interclub Friendly vs Eagles','Friendly match against the Eagles. All players welcome.',1,'Basketball'),
('2024-10-12 09:00:00','2024-10-12 17:00:00','Youth Clinic','Youth coaching clinic for ages 10-15. Volunteers needed.',1,'Basketball'),
('2025-06-15 18:00:00','2025-06-15 21:00:00','3v3 Summer Tournament','Register teams of three for a fun one-day tournament.',1,'Basketball'),
('2025-12-05 19:00:00',NULL,'Holiday Team Social','End of year gathering; potluck and awards.',0,'Basketball'),
('2025-02-20 20:00:00','2025-02-20 22:00:00','Mid-season Scrimmage','Open scrimmage for bench players to show form.',1,'Basketball'),
('2025-04-18 19:00:00','2025-04-18 22:00:00','Code Sprint: Autonomous Navigation','One-evening programming sprint for nav stack improvements.',1,'Robotics'),
('2024-11-10 09:00:00','2024-11-12 18:00:00','Regional Robotics Competition','Team travels to regional competition. Practice required weeks prior.',1,'Robotics'),
('2025-08-01 10:00:00',NULL,'Summer Workshop: Sensors','Hands-on session on sensor integration and calibration.',0,'Robotics'),
('2025-03-22 18:30:00','2025-03-22 21:30:00','PCB Night','Design and order round for competition PCBs; bring laptop.',1,'Robotics'),
('2025-05-10 17:00:00','2025-05-10 20:00:00','Open Lab','Open access to lab for personal projects and mentoring.',1,'Robotics'),
('2025-11-25 19:30:00',NULL,'November Discussion: "The Lighthouse"','Monthly discussion; bring notes and favourite quote.',1,'Book'),
('2025-01-30 19:30:00',NULL,'January Meetup & New Year Picks','Social meet and voting for next quarter books.',1,'Book'),
('2024-12-20 18:00:00','2024-12-20 20:00:00','Holiday Book Swap','Bring 3 gently used books to swap with others.',1,'Book'),
('2025-02-14 19:30:00',NULL,'Valentine Light Reading Night','Short reads and tea; recommended for couples and singles alike.',0,'Book'),
('2025-06-30 10:00:00','2025-06-30 13:00:00','Library Tour & History','Guided tour of the campus library special collections.',1,'Book'),
('2025-07-12 05:00:00','2025-07-12 10:00:00','Sunrise Photo Walk','Meet at the riverside at dawn to capture sunrise scenes.',1,'Photography'),
('2024-09-05 18:00:00','2024-09-05 21:00:00','Editing Workshop: Lightroom Basics','Bring laptop with Lightroom trial installed.',1,'Photography'),
('2025-10-01 16:00:00',NULL,'Exhibition Setup','Volunteer to help set up the club exhibition in Gallery 2.',0,'Photography'),
('2025-03-29 19:00:00','2025-03-29 21:00:00','Portrait Night','Model session and group critique.',1,'Photography'),
('2025-11-08 10:00:00','2025-11-08 14:00:00','Street Photography Walk','Focus on candid and architectural shots downtown.',1,'Photography'),
('2025-05-18 17:00:00','2025-05-18 20:00:00','Italian Night: Pasta Workshop','Learn fresh pasta techniques; small fee covers ingredients.',1,'Cooking'),
('2024-11-22 12:00:00','2024-11-22 15:00:00','Community Dinner','Cooking Club community dinner, open signups.',1,'Cooking'),
('2025-09-10 18:00:00','2025-09-10 21:00:00','Vegan Techniques','Plant-based cooking masterclass.',0,'Cooking'),
('2025-02-02 17:00:00','2025-02-02 19:00:00','Knife Skills Session','Safety-first knife skills and prep techniques.',1,'Cooking'),
('2025-12-24 18:00:00',NULL,'Christmas Eve Bake-off','Friendly bake-off and cookie exchange.',0,'Cooking'),
('2025-06-21 19:00:00','2025-06-21 21:30:00','Summer Concert','Public performance in the main hall; rehearsal 17:00.',1,'Music'),
('2024-12-12 18:00:00','2024-12-12 20:00:00','Holiday Jam','Informal jam session with mulled cider.',1,'Music'),
('2025-03-03 18:30:00',NULL,'Chamber Rehearsal: Haydn String Quartet','Sectionals and full run-through.',1,'Music'),
('2025-08-14 10:00:00','2025-08-14 12:00:00','Open Auditions','Auditions for next season ensembles. Sign up online.',0,'Music'),
('2025-11-30 20:00:00','2025-11-30 22:00:00','Community Singalong','Open to all; scorebooks provided.',1,'Music'),
('2025-04-05 18:00:00','2025-04-05 21:00:00','Rated Match Night','Weekly rated matches; bring clocks if you have.',1,'Chess'),
('2024-10-20 10:00:00','2024-10-20 16:00:00','Weekend Tournament','One-day Swiss tournament; prizes for top 3.',1,'Chess'),
('2025-09-01 19:00:00',NULL,'Beginner Coaching Series','Weekly lessons for new players.',0,'Chess'),
('2025-02-27 18:00:00','2025-02-27 20:00:00','Blitz Night','Fast-format games (5+0); snacks provided.',1,'Chess'),
('2025-07-19 09:00:00','2025-07-19 17:00:00','Interclub Championship','Our team vs neighboring universities.',1,'Chess'),
('2025-05-03 07:00:00','2025-05-03 18:00:00','Day Hike: River Gorge','Moderate 12 km loop; bring water and sturdy boots.',1,'Hiking'),
('2024-08-15 06:00:00','2024-08-17 18:00:00','Overnight Trek','Two-day trek with camping; limited to experienced hikers.',1,'Hiking'),
('2025-10-10 07:00:00',NULL,'Fall Colours Walk','Family-friendly walk to enjoy fall foliage.',0,'Hiking'),
('2025-03-08 08:00:00','2025-03-08 16:00:00','Map & Compass Basics','Outdoor navigation workshop and practice.',1,'Hiking'),
('2025-11-02 06:00:00','2025-11-02 20:00:00','Coastal Challenge','Long-distance coastal hike; bring layers.',1,'Hiking'),
('2025-04-26 18:00:00','2025-04-26 23:00:00','Board Game Night','Themed nights: eurogames and strategy. Bring a favourite.',1,'Gaming'),
('2024-11-29 19:00:00','2024-11-29 02:00:00','LAN Party','Overnight esports LAN - BYO equipment.',1,'Gaming'),
('2025-06-07 17:00:00',NULL,'RPG Marathon','One-shot and campaign sessions across tables.',1,'Gaming'),
('2025-12-12 18:00:00','2025-12-12 22:00:00','Holiday Swap & Sale','Buy/sell/trade board games and accessories.',0,'Gaming'),
('2025-08-30 20:00:00','2025-08-30 23:00:00','Retro Console Night','Bring classic consoles for casual play.',1,'Gaming'),
('2025-03-15 18:00:00','2025-03-15 21:00:00','Parliamentary Scrimmage','Friendly BP rounds with feedback.',1,'Debate'),
('2025-04-02 17:00:00','2025-04-02 19:00:00','Public Speaking Workshop','Voice, posture, and persuasive structure.',1,'Debate'),
('2025-05-10 19:30:00',NULL,'One-Act Showcase','Student-directed one-acts on main stage.',0,'Drama'),
('2025-06-18 18:00:00','2025-06-18 21:00:00','Improv Night','Yes-and drills and games; open to all.',1,'Drama'),
('2025-04-20 09:00:00','2025-04-20 12:00:00','Campus Cleanup','Gloves and bags provided; meet at quad.',1,'Environmental'),
('2025-05-05 17:30:00','2025-05-05 19:00:00','Sustainability Talk: Solar 101','Guest speaker on small-scale solar installs.',1,'Environmental'),
('2025-03-12 18:00:00','2025-03-12 21:00:00','Hack Night: Build a Todo API','Pair programming and pizza.',1,'Coding'),
('2025-04-08 18:00:00','2025-04-08 20:00:00','Interview Prep Sprint','Mock interviews + resume clinic.',1,'Coding'),
('2025-03-22 19:00:00','2025-03-22 21:00:00','Salsa Social','Beginner-friendly lesson then social dance.',1,'Dance'),
('2025-04-14 18:30:00','2025-04-14 20:30:00','Hip-Hop Choreo Workshop','Learn a full routine; all levels.',1,'Dance');

-- ==== COMMENTS =====
INSERT INTO comments (`date`, `comment`, `rating`, `username`, `clubName`) VALUES
('2025-01-11 09:23:00','Amazing slope trip! The buses were punctual and the guides helpful.',5,'Marta','Ski'),
('2025-03-06 22:10:00','Apere-ski was a blast — the hot chocolate saved my toes!',4,'Ari','Ski'),
('2025-02-28 19:45:00','I loved the backcountry guidance but wish there had been an easier beginner route.',4,'Luca','Ski'),
('2024-02-16 17:00:00','Training camp was intense; met great people.',5,'Francesco','Ski'),
('2025-03-05 21:05:00','Samuele ate all my gocciole at the apres-ski table. I am NOT pleased.','1','Francesco','Ski'),
('2025-03-05 21:10:00','Who, me? I only had two. Francesco, you exaggerate — they were irresistible!',0,'Samuele','Ski'),
('2025-03-05 21:15:00','Can confirm: Samuele demolished a whole pack. Francesco was heartbroken but still came to sing.',3,'Ari','Ski'),
('2024-12-21 12:00:00','Friendly club and good equipment rentals. Looking forward to next season.',5,'Igor','Ski'),
('2025-06-16 12:30:00','3v3 tournament was well organized and lots of fun.',5,'Ayoub','Basketball'),
('2024-10-13 10:00:00','Youth clinic helped my little cousin a lot — great coaches.',5,'Giorgie','Basketball'),
('2025-11-02 08:40:00','Loved the energy at the friendly vs Eagles!',4,'Marco_b','Basketball'),
('2025-02-21 15:00:00','Mid-season scrimmage was good practice for the bench players.',4,'Hana','Basketball'),
('2025-12-06 09:00:00','Holiday social sounds fun but I hope it is not too expensive.',0,'Sophia','Basketball'),
('2025-06-16 12:45:00','Ayoub led an incredible comeback in the semis — proud of the team.',5,'Giorgie','Basketball'),
('2024-11-01 18:00:00','Courts were busy but staff managed bookings well.',3,'Harry','Basketball'),
('2025-03-02 10:00:00','Looking for more morning practice slots on weekends!',2,'Yvonne','Basketball'),
('2025-04-19 09:00:00','Code sprint helped debug our navigation state machine.',5,'Noah','Robotics'),
('2024-11-13 20:00:00','Competition weekend was tiring but unforgettable!',5,'Isabella','Robotics'),
('2025-03-23 08:00:00','PCB night was productive; ordered the first batch.',4,'Kai','Robotics'),
('2025-05-11 18:10:00','Open lab mentors were patient and explained things clearly.',5,'Emma','Robotics'),
('2025-08-02 13:00:00','Sensors workshop was postponed due to supply delays.',0,'Oliver','Robotics'),
('2024-12-01 11:00:00','Great community, willing to share parts and tools.',4,'Sandra','Robotics'),
('2025-01-10 10:00:00','Would like more beginner-friendly sessions.',3,'Paul','Robotics'),
('2025-04-18 22:30:00','We improved our autonomous lap time by 10% — great sprint.',5,'Noah','Robotics'),
('2025-11-25 22:30:00','Discussion on "The Lighthouse" had great insights from everyone.',5,'Clara','Book'),
('2025-01-31 20:00:00','January picks were diverse; excited for next month.',4,'David','Book'),
('2024-12-21 10:00:00','Book swap got me a rare copy I have wanted for years.',5,'Sara','Book'),
('2025-02-15 19:40:00','Valentine reading night was cozy and well-attended.',3,'Nina','Book'),
('2025-06-30 12:00:00','Library tour added depth to our appreciation of the selections.',4,'Mussolini','Book'),
('2025-03-01 09:00:00','Could we add a sci-fi month? I volunteer to moderate it.',0,'Paul','Book'),
('2024-11-18 18:30:00','Good community; felt welcomed as a first-timer.',4,'Sandra','Book'),
('2025-01-10 15:20:00','Meeting location is a bit cramped; maybe find a larger room.',2,'Sandra','Book'),
('2025-07-12 11:30:00','Sunrise walk delivered spectacular images.',5,'Mike','Photography'),
('2024-09-06 20:00:00','Editing workshop clarified many confusing features for me.',5,'Elena','Photography'),
('2025-10-02 09:00:00','Exhibition setup had fewer volunteers than expected.',2,'Tomas','Photography'),
('2025-03-30 20:45:00','Portrait night boosted my portfolio with three great shots.',5,'Zoe','Photography'),
('2025-11-09 16:00:00','Street walk had great composition challenges.',4,'Ivan','Photography'),
('2024-12-01 12:00:00','Loved the gear share idea, very helpful for beginners.',4,'Giorgia','Photography'),
('2025-07-12 06:45:00','Met a mentor who taught me manual exposure — huge help.',5,'Mike','Photography'),
('2025-10-02 09:30:00','Would appreciate more animal photography outings.',3,'Oliver','Photography'),
('2025-05-18 20:30:00','Pasta workshop was hands-on and delicious.',5,'Sofia','Cooking'),
('2024-11-23 16:00:00','Community dinner was heartwarming — lots of families attended.',5,'Raoul','Cooking'),
('2025-09-11 20:45:00','Vegan class could use more protein-based recipes.',3,'Lena','Cooking'),
('2025-02-02 19:10:00','Knife session improved my prep time significantly.',5,'Ben','Cooking'),
('2025-12-25 10:00:00','Bake-off sounds fun; I hope there are gluten-free categories.',0,'Yasmin','Cooking'),
('2024-11-22 13:00:00','Organizers were attentive to allergy requirements.',4,'Sandra','Cooking'),
('2025-05-19 09:00:00','Would love a sushi rolling class next season.',4,'Mussolini','Cooking'),
('2025-05-18 19:00:00','The sauce recipe was shared — absolute winner!',5,'Sofia','Cooking'),
('2025-06-22 22:00:00','Summer concert was polished and moving.',5,'Olga','Music'),
('2024-12-13 19:00:00','Holiday jam was informal and joyful; loved it.',4,'Christian','Music'),
('2025-03-04 20:00:00','Chamber rehearsal focused our dynamics effectively.',4,'Karen','Music'),
('2025-08-15 11:00:00','Open auditions were welcoming to new players.',0,'Matt','Music'),
('2025-11-30 21:45:00','Community singalong was a great way to end the month.',5,'Daria','Music'),
('2024-12-13 19:30:00','Great volunteer stage managers who organized the jam.',4,'Sandra','Music'),
('2025-06-22 21:50:00','I recommend arriving early for the best seats.',3,'Olga','Music'),
('2025-08-15 10:05:00','Audition feedback was constructive and kind.',4,'Matt','Music'),
('2025-04-06 09:20:00','Rated match night improved my ladder rating.',5,'Arthur','Chess'),
('2024-10-21 17:00:00','Tournament organization was smooth and fair.',5,'Bea','Chess'),
('2025-09-02 19:30:00','Beginner coaching was patient and helpful.',4,'Zach','Chess'),
('2025-02-28 20:05:00','Blitz night was hectic but a good challenge.',4,'Paula','Chess'),
('2025-07-20 11:00:00','Interclub championship felt competitive — proud of our players.',5,'Arthur','Chess'),
('2024-10-21 18:00:00','Prize distribution could be faster next year.',2,'Giorgia','Chess'),
('2025-04-06 20:30:00','I learned a new opening and won two games!',5,'Oliver_q','Chess'),
('2025-04-06 19:00:00','More beginner tables would be great.',3,'Oliver_q','Chess'),
('2025-05-04 19:00:00','River gorge hike had beautiful vistas and well-marked trails.',5,'Sylvia','Hiking'),
('2024-08-18 12:00:00','Overnight trek was challenging but the group was supportive.',5,'Jorge','Hiking'),
('2025-10-11 09:00:00','Fall colours walk had perfect weather.',4,'Mina','Hiking'),
('2025-03-09 17:00:00','Map & compass basics were more useful than I expected.',5,'Kevin','Hiking'),
('2025-11-03 21:00:00','Coastal challenge pushed me out of my comfort zone — in a good way.',5,'Robin','Hiking'),
('2024-08-18 13:30:00','Bring insect repellent for late summer treks.',0,'Mussolini','Hiking'),
('2025-05-04 18:00:00','Organizers provided excellent safety briefings.',4,'Sylvia','Hiking'),
('2025-03-09 12:00:00','Would appreciate shorter loop options for families.',3,'Kevin','Hiking'),
('2025-04-27 01:00:00','Board game night introduced me to several new favourites.',5,'Alex','Gaming'),
('2024-11-30 03:30:00','LAN party was intense but the network held up.',4,'Bella','Gaming'),
('2025-06-08 02:00:00','RPG marathon went 14 hours — best weekend ever!',5,'Chris','Gaming'),
('2025-12-13 12:00:00','Holiday swap is a nice way to refresh the collection.',0,'Nora','Gaming'),
('2025-08-31 00:30:00','Retro night brought back many memories.',4,'Quentin','Gaming'),
('2024-11-30 02:00:00','Bring an extra power strip next time.',2,'Giorgia','Gaming'),
('2025-04-27 02:00:00','I found a group to play my favourite eurogame with — excellent!',5,'Alex','Gaming'),
('2025-06-08 03:00:00','RPG tables were well-run, GMs were prepared.',5,'Bella','Gaming'),
('2025-03-16 20:00:00','Loved the feedback on my PM speech structure.',5,'Nicolas','Debate'),
('2025-04-03 12:00:00','Public speaking drills really reduced my filler words.',4,'Priya','Debate'),
('2025-05-11 09:30:00','Please add more cross-ex practice next time.',3,'Julia','Debate'),
('2025-05-12 21:00:00','Improv games loosened us up before scene work.',5,'Amelia','Drama'),
('2025-06-19 12:00:00','Improv night was hilarious; thanks for the tips!',4,'Simon','Drama'),
('2025-05-06 10:00:00','Solar 101 talk gave me actionable steps for my flat.',5,'Greta','Environmental'),
('2025-04-21 13:00:00','Cleanup was smooth; more water stations would help.',3,'Kenji','Environmental'),
('2025-03-13 21:30:00','Pair programming was fun; learned Express routing.',5,'Ethan','Coding'),
('2025-04-09 20:00:00','Interview sprint: great mock rounds and resume edits.',5,'Rina','Coding'),
('2025-03-23 22:00:00','Salsa social had a friendly vibe; music could be louder.',4,'Layla','Dance'),
('2025-04-15 21:30:00','Hip-hop choreo was challenging but rewarding.',5,'Diego','Dance');

-- ==== NOTIFICATIONS =====
INSERT INTO notifications (`username`, `clubName`, `type`, `message`, `link`, `isRead`, `createdAt`) VALUES
('Marta', 'Ski', 'membership', 'You have been promoted to VP in Ski', '/ClubPage/Ski', 1, '2025-03-07 09:00:00'),
('Ayoub', 'Basketball', 'membership', 'Your 3v3 tournament recap is ready', '/ClubPage/Basketball', 0, '2025-06-17 11:00:00'),
('Sofia', 'Cooking', 'event', 'New pasta workshop added this week', '/ClubPage/Cooking', 0, '2025-05-18 09:30:00'),
('Bella', 'Gaming', 'event', 'LAN party schedule has changed', '/ClubPage/Gaming', 0, '2024-11-27 12:00:00');

-- ===== Update clubs.memberCount to match actual inserted people (counts based on above inserts) =====
UPDATE clubs SET memberCount = (
  SELECT COUNT(*) FROM person WHERE person.club = clubs.clubName AND person.role IN ('CL','VP','CM')
);
